---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import { Button } from "@/components/ui/button";
import Header from "@/components/Header.astro";
import Image from "@/components/Image.astro";
import { currentPage } from "@/lib/data";
import { convert } from "html-to-text";
import { cn } from "@/lib/utils";

const page = (await currentPage(Astro))!;
const plainDescription = convert(page?.description ?? "");
console.log(page);
---

<Layout title="Welcome to Astro.">
	<section class="w-full">
		<Header />
		<main class="container mx-auto px-0 sm:px-4 md:px-6 sm:py-8">
			<section class="mb-8">
				<!-- <h2 class="text-2xl font-bold mb-4 px-2 sm:px-0">Principal</h2> -->
				<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
					<div>
						<Image
							class={"sm:rounded-lg"}
							collectionId={page.collectionId}
							recordId={page.id}
							fileName={page.presentation}
						/>
					</div>
					<div class="flex flex-col justify-center">
						<h3 class="text-xl font-bold mb-2">
							{page.title}
						</h3>
						<div
							class={cn(
								"text-zinc-500 dark:text-zinc-400 overflow-hidden text-ellipsis",
								{
									"md:line-clamp-4":
										page.expand.actions.length > 2,
									"md:line-clamp-9":
										page.expand.actions.length > 0 &&
										page.expand.actions.length < 3,
								},
							)}
						>
							<p set:html={page?.description} />
						</div>
						<div
							class="grid grid-cols-2 lg:max-w-[600px] gap-2 md:gap-4 pt-2 mt-auto"
						>
							{
								page.expand.actions.map((action) => {
									return (
										<a href={action.link} role="button">
											<Button
												className="w-full py-6"
												variant={action.button_style}
												role="contentinfo"
											>
												{action.title}
											</Button>
										</a>
									);
								})
							}
						</div>
					</div>
				</div>
			</section>
			<section class="mb-8">
				<h2 class="text-2xl font-bold mb-4 px-2 sm:px-0">Politics</h2>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
					<div>
						<Image
							alt="Politics Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Politics Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the politics story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Politics Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Politics Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the politics story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Politics Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Politics Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the politics story. Click
							the a to read more.
						</p>
					</div>
				</div>
			</section>
			<section class="mb-8">
				<h2 class="text-2xl font-bold mb-4 px-2 sm:px-0">Business</h2>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
					<div>
						<Image
							alt="Business Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Business Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the business story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Business Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Business Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the business story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Business Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Business Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the business story. Click
							the a to read more.
						</p>
					</div>
				</div>
			</section>
			<section class="mb-8">
				<h2 class="text-2xl font-bold mb-4 px-2 sm:px-0">Tech</h2>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
					<div>
						<Image
							alt="Tech Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Tech Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the tech story. Click the
							a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Tech Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Tech Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the tech story. Click the
							a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Tech Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Tech Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the tech story. Click the
							a to read more.
						</p>
					</div>
				</div>
			</section>
			<section class="mb-8">
				<h2 class="text-2xl font-bold mb-4 px-2 sm:px-0">Culture</h2>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
					<div>
						<Image
							alt="Culture Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Culture Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the culture story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Culture Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Culture Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the culture story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Culture Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Culture Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the culture story. Click
							the a to read more.
						</p>
					</div>
				</div>
			</section>
			<section class="mb-8">
				<h2 class="text-2xl font-bold mb-4 px-2 sm:px-0">Sports</h2>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
					<div>
						<Image
							alt="Sports Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Sports Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the sports story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Sports Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Sports Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the sports story. Click
							the a to read more.
						</p>
					</div>
					<div>
						<Image
							alt="Sports Story Image"
							class="w-full h-64 object-cover object-center sm:rounded-lg"
							height="400"
							src="/placeholder.svg"
							style={{
								aspectRatio: "600/400",
								objectFit: "cover",
							}}
							width="600"
						/>
						<h3 class="text-xl font-bold mb-2 mt-4 px-2 sm:px-0">
							Sports Story Headline
						</h3>
						<p
							class="text-zinc-500 dark:text-zinc-400 px-2 sm:px-0"
						>
							This is a brief summary of the sports story. Click
							the a to read more.
						</p>
					</div>
				</div>
			</section>
		</main>
	</section>
</Layout>
